**2021/01/01**
*Happy New Year*

---


### 第 1 题：什么是防抖和节流？有什么区别？如何实现？

1. 防抖<br/>
>触发高频事件后n秒内函数只会执行一次，如果n秒内高频事件再次被触发，则重新计算时间
```
function debounce(fn) {
      let timeout = null; // 创建一个标记用来存放定时器的返回值
      return function () {
        clearTimeout(timeout); // 每当用户输入的时候把前一个 setTimeout clear 掉
        timeout = setTimeout(() => { // 然后又创建一个新的 setTimeout, 这样就能保证输入字符后的 interval 间隔内如果还有字符输入的话，就不会执行 fn 函数
          fn.apply(this, arguments);
        }, 500);
      };
    }
    function sayHi() {
      console.log('防抖成功');
    }

    var inp = document.getElementById('inp');
    inp.addEventListener('input', debounce(sayHi)); // 防抖

```
[JavaScript专题之跟着underscore学防抖](https://github.com/mqyqingfeng/Blog/issues/22)

2. 节流<br/>
>高频事件触发，但在n秒内只会执行一次，所以节流会稀释函数的执行频率
```
function throttle(fn) {
      let canRun = true; // 通过闭包保存一个标记
      return function () {
        if (!canRun) return; // 在函数开头判断标记是否为true，不为true则return
        canRun = false; // 立即设置为false
        setTimeout(() => { // 将外部传入的函数的执行放在setTimeout中
          fn.apply(this, arguments);
          // 最后在setTimeout执行完毕后再把标记设置为true(关键)表示可以执行下一次循环了。当定时器没有执行的时候标记永远是false，在开头被return掉
          canRun = true;
        }, 500);
      };
    }
    function sayHi(e) {
      console.log(e.target.innerWidth, e.target.innerHeight);
    }
    window.addEventListener('resize', throttle(sayHi));

```
[JavaScript专题之跟着 underscore 学节流](https://github.com/mqyqingfeng/Blog/issues/26)


<br/>


### 第 2 题：Set Map WeakSet WeakMap的关联与区别？

1. Set<br/>
> 1. 成员不能重复 => 基于此可以有一个巧妙地数组去重方法
> 2. 只有健值,没有健名,有点类似数组
> 3. 可以遍历,方法有add,delete,has

<br/>
2. WeakSet<br/>
> 1. WeakSet 的成员只能是对象，而不能是其他类型的值
> 2. WeakSet 中的对象都是弱引用，即垃圾回收机制不考虑 WeakSet 对该对象的引用，也就是说，如果其他对象都不再引用该对象，那么垃圾回收机制会自动回收该对象所占用的内存，不考虑该对象还存在于 WeakSet 之中

<br/>
3. Map<br/>
> 1. 本质上是健值对的集合,类似集合
> 2. 可以遍历,方法很多,可以干跟各种数据格式转换

<br/>
4. WeakMap<br/>
> 1. 直接受对象作为健名（null除外），不接受其他类型的值作为健名
> 2. 健名所指向的对象，不计入垃圾回收机制
> 3. 不能遍历，方法同get,set,has,delete
